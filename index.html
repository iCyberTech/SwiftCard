<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personal Information</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    /* Add your CSS styles here */
  </style>
</head>
<body>
  <!-- Weather Display -->
  <div class="weather" id="weather">
    <i class="fas fa-cloud"></i> Loading weather...
  </div>

  <!-- Main Content -->
  <div class="container">
    <div class="profile">
      <img src="profile.jpg" alt="Profile Picture" class="profile-img">
      <h1 class="name">John Doe</h1>
      <p class="bio">Web Developer | Tech Enthusiast | Lifelong Learner</p>
    </div>

    <div class="info">
      <h2>About Me</h2>
      <p>Hello! I'm John Doe, a passionate web developer with over 5 years of experience in building responsive and user-friendly websites. I love exploring new technologies and sharing my knowledge with others.</p>
    </div>

    <div class="social-media">
      <h2>Connect with Me</h2>
      <div class="icons">
        <a href="https://twitter.com" target="_blank"><i class="fab fa-twitter"></i></a>
        <a href="https://linkedin.com" target="_blank"><i class="fab fa-linkedin"></i></a>
        <a href="https://wa.me/1234567890" target="_blank"><i class="fab fa-whatsapp"></i></a>
        <a href="tel:+1234567890" target="_blank"><i class="fas fa-phone"></i></a>
        <a href="https://instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="mailto:johndoe@example.com" target="_blank"><i class="fas fa-envelope"></i></a>
      </div>
    </div>
  </div>

  <script>
    // JavaScript for Interactive Features
    const weatherElement = document.getElementById('weather');

    function fetchWeather(latitude, longitude) {
      const apiKey = 'fbebb3fe5e0944128ff1208e17f389ae'; // Your API key
      const apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=metric`;

      console.log('Fetching weather from:', apiUrl); // Debugging: Log API URL

      fetch(apiUrl)
        .then(response => {
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }
          return response.json();
        })
        .then(data => {
          console.log('Weather data:', data); // Debugging: Log weather data
          if (data.cod === 200) { // Check if the response is successful
            const weather = data.weather[0];
            const temperature = data.main.temp;
            const icon = weather.icon;

            // Update weather display
            weatherElement.innerHTML = `
              <i class="fas fa-${getWeatherIcon(icon)}"></i>
              ${Math.round(temperature)}Â°C, ${weather.description}
            `;

            // Update background based on weather
            updateBackground(weather.main);
          } else {
            throw new Error(data.message || 'Unknown error');
          }
        })
        .catch(error => {
          console.error('Error fetching weather data:', error); // Debugging: Log API error
          weatherElement.innerHTML = '<i class="fas fa-cloud"></i> Weather unavailable';
        });
    }

    function getWeatherIcon(iconCode) {
      const iconMap = {
        '01d': 'sun', '01n': 'moon', '02d': 'cloud-sun', '02n': 'cloud-moon',
        '03d': 'cloud', '03n': 'cloud', '04d': 'cloud', '04n': 'cloud',
        '09d': 'cloud-rain', '09n': 'cloud-rain', '10d': 'cloud-sun-rain',
        '10n': 'cloud-moon-rain', '11d': 'bolt', '11n': 'bolt',
        '13d': 'snowflake', '13n': 'snowflake', '50d': 'smog', '50n': 'smog',
      };
      return iconMap[iconCode] || 'cloud';
    }

    function updateBackground(weatherCondition) {
      const body = document.body;
      let gradient = '';

      switch (weatherCondition.toLowerCase()) {
        case 'clear': gradient = 'linear-gradient(135deg, #87CEEB, #1E90FF)'; break;
        case 'clouds': gradient = 'linear-gradient(135deg, #B0C4DE, #778899)'; break;
        case 'rain': gradient = 'linear-gradient(135deg, #4682B4, #6A5ACD)'; break;
        case 'thunderstorm': gradient = 'linear-gradient(135deg, #2F4F4F, #00008B)'; break;
        case 'snow': gradient = 'linear-gradient(135deg, #FFFFFF, #ADD8E6)'; break;
        default: gradient = 'linear-gradient(135deg, #f4f4f4, #e0e0e0)';
      }

      body.style.background = gradient;
    }

    // Get User Location
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        position => {
          const { latitude, longitude } = position.coords;
          console.log('User location:', latitude, longitude); // Debugging: Log user location
          fetchWeather(latitude, longitude);
        },
        error => {
          console.error('Error getting location:', error); // Debugging: Log geolocation error
          weatherElement.innerHTML = '<i class="fas fa-cloud"></i> Location unavailable';
        }
      );
    } else {
      console.error('Geolocation not supported'); // Debugging: Log if geolocation is unsupported
      weatherElement.innerHTML = '<i class="fas fa-cloud"></i> Geolocation not supported';
    }
  </script>
</body>
</html>
